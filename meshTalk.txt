meshTalk v0.3.2
Author: Anton Vologzhanin (R3VAF)

========================
EN
========================

Purpose
- Encrypted P2P messenger over Meshtastic.
- Focused on reliable delivery, delivery stats, and mesh behavior study.

License
- Apache License 2.0 (`LICENSE`).
- Redistribution must preserve attribution notices from `NOTICE`.

Project vision
- Intended for civilian/hobby/research use.
- Built for reliability experiments and mesh behavior study.
- Military use is explicitly prohibited.
- Any unlawful use (including terrorist, extremist, criminal activity) is explicitly prohibited.
- Disclaimer: software is provided "AS IS", without warranties of any kind.
- Disclaimer: the author is not liable for any direct or indirect damage caused by use or misuse.

Main UI
- Left: contacts/dialogs list.
- Right: chat area.
- Top: header status bar with `Client ID`, names, and masked `pub`.
  - Orange: initialization / transitional states (waiting for radio).
  - Dark green: connected, no unacknowledged errors.
  - Red: errors happened in log and require user attention (until Settings is opened).
- Bottom: input field and Send button.

Initialization
- GUI starts even if radio is not connected.
- Radio connection is serial-over-USB (COM on Windows, `/dev/ttyUSB*`/`/dev/ttyACM*` on Linux).
- Default port mode is `--port auto`: on startup the app scans serial ports and picks the best candidate automatically.
- App waits for device, then auto-connects and loads profile data.
- Settings/history are loaded only after node initialization.
- Multipart receive state is resumed after restart.

Top row behavior
- `Client ID: !xxxxxxxx <longname>[<shortname>] pub: 12345****67890`
- Left-click on top row copies Client ID.
- Triple-click on `pub:` asks confirmation, regenerates local keys, broadcasts new key.

Message status examples
- Outgoing in progress:
  `sent at 10:18 elapsed 00:05`
- Outgoing multipart in progress:
  `sent at 10:18 elapsed 00:12, parts 2/5`
- Outgoing delivered:
  `sent at 10:18 delivered at 10:19 in 01:18, on the 1 attempt, hops there 0 back 0`
- Outgoing delivered with compression:
  `sent at 10:18 delivered at 10:19 in 01:18, on the 1 attempt, hops there 0 back 0, compression DEFLATE 42%`
- Incoming multipart in progress:
  `at 10:18 started receiving, elapsed 00:15 parts 2/5 attempts 1, hops 1`
- Incoming completed:
  `sent at 10:18 received at 10:19 in 01:18, attempts 1, hops 1, parts 5/5`

Contacts context menu
- Pin/Unpin
- Add to group
- Request key
- Clear history
- Delete contact

Contact list indicators
- Lock (`üîí`) is shown only after confirmed two-way key exchange.
- Next to lock: hours since key exchange confirmation.
- Above lock: `Last seen: N h` (peer last seen time in hours).

Settings
- Port, retry interval, max wait, max bytes, rate.
- Discovery: two checkboxes (`Send broadcast discovery`, `Reply to broadcast discovery`).
- Default on first start: both ON.
- Clear pending on profile switch.
- Language, verbose events, runtime.log toggle.
- Default on first start: `runtime.log` ON.
- Compression settings are hidden from UI and work automatically.
- For outgoing messages the app compares `DEFLATE`, `ZLIB`, `BZ2`, `LZMA`, `NLTK`, `SPACY`, `TENSORFLOW` and applies compression only if payload becomes smaller.
- `NLTK`/`SPACY`/`TENSORFLOW` are wire-level compression profile aliases; decode path stays dependency-free.
- Hint labels in settings use a smaller font (`QLabel#hint`, 10px) to avoid looking like regular options.
- `Full reset` button (red, with confirmation) removes profile config/state/history/incoming/runtime logs and key files, then regenerates local keys.

Auto key refresh
- Periodic key request roughly hourly (+ jitter).
- Auto key request on decrypt failures.
- Lock indicator removed if key is stale for over 24 hours.

Data files (per node)
- `<node_id>/keyRings/`
- `<node_id>/keyRings/storage.key` (local at-rest encryption key)
- `<node_id>/state.json`
- `<node_id>/history.log`
- `<node_id>/incoming.json`
- `<node_id>/runtime.log` (if enabled)
- `<node_id>/config.json`

meshTalk related files map (keep updated)
- This section is operationally important and must be updated periodically when behavior or file roles change.

Project files (repository / source-controlled)
- `meshTalk.py`:
  - Main app: radio lifecycle, E2EE, queue/retry/ACK, GUI, save/load state/history.
- `meshtalk/protocol.py`:
  - Wire protocol primitives: pack/unpack, X25519+HKDF key derivation, base64 helpers.
- `meshtalk/storage.py`:
  - Storage layer: config/state/history/incoming I/O, at-rest encryption key, file hardening.
- `meshtalk_utils.py`:
  - Shared helpers: history encode/decode, parsers, metadata formatting, wire payload assembly.
- `message_text_compression.py`:
  - Compression codecs/modes used by message payload processing.
- `run_meshTalk.bat`: Windows launcher.
- `build_meshTalk.bat`: Windows single-file build helper.
- `requirements.txt`: Python dependencies.
- `requirements-ml.txt`: optional NLP-related dependencies for additional compression profiles.
- `README.md`: project-level usage and options.
- `meshTalk.txt`: focused meshTalk behavior reference.
- `meshLogger.txt`: focused meshLogger behavior reference.
- `graphGen.txt`: focused graphGen behavior reference.
- `nodeDbUpdater.txt`: focused nodeDbUpdater behavior reference.
- `meshtalk_utils.txt`: focused meshtalk_utils module reference.
- `message_text_compression.txt`: focused text-compression module reference.
- `meshtalk/protocol.txt`: focused protocol module reference.
- `meshtalk/storage.txt`: focused storage module reference.
- `CHANGELOG.md`: changes between versions.

Generated during runtime (per profile/node, not source code)
- `config.json`: GUI/runtime options.
- `state.json`: outgoing pending queue records (used to restore unsent outgoing messages).
- `incoming.json`: incoming multipart assembly state.
- `history.log`: message history and transport events.
  - Text is stored as `enc1:...` (AES-256-GCM; key in `keyRings/storage.key`).
  - Legacy rows may contain `b64:...` (older versions).
  - Optional per-message metadata is stored as `meta64:...` (base64 JSON) for status restoration.
- `runtime.log`: technical runtime events.
- `keyRings/`: local private/public keys and peer public keys.
  - `storage.key`: 32-byte key used to encrypt message text persisted at rest (`history.log`, sensitive fields in `state.json`/`incoming.json`).

History/recovery behavior
- On startup, app restores in this logical order:
  1) `history.log` (`recv/sent`) with metadata.
  2) outgoing pending state from `state.json`.
  3) incoming multipart state from `incoming.json`.
- Group rename moves history entries from old `group:<name>` id to new id.
- Group delete/clear removes corresponding entries from `history.log`.

========================
RU
========================

–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
- –®–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–π P2P‚Äë–º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä –ø–æ–≤–µ—Ä—Ö Meshtastic.
- –§–æ–∫—É—Å: –Ω–∞–¥–µ–∂–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–æ—Å—Ç–∞–≤–∫–∏ –∏ –∏–∑—É—á–µ–Ω–∏–µ –ø–æ–≤–µ–¥–µ–Ω–∏—è mesh-—Å–µ—Ç–∏.

–õ–∏—Ü–µ–Ω–∑–∏—è
- Apache License 2.0 (`LICENSE`).
- –ü—Ä–∏ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –∞—Ç—Ä–∏–±—É—Ü–∏—é –∏–∑ `NOTICE`.

–í–∏–¥–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
- –î–ª—è –≥—Ä–∞–∂–¥–∞–Ω—Å–∫–æ–≥–æ/–ª—é–±–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ/–∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.
- –û—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ –Ω–∞ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã –ø–æ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ –∏ –∏–∑—É—á–µ–Ω–∏–µ –ø–æ–≤–µ–¥–µ–Ω–∏—è mesh-—Å–µ—Ç–∏.
- –í–æ–µ–Ω–Ω–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ø—Ä—è–º–æ –∑–∞–ø—Ä–µ—â–µ–Ω–æ.
- –õ—é–±–∞—è –Ω–µ–∑–∞–∫–æ–Ω–Ω–∞—è –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–≤–∫–ª—é—á–∞—è —Ç–µ—Ä—Ä–æ—Ä–∏—Å—Ç–∏—á–µ—Å–∫—É—é, —ç–∫—Å—Ç—Ä–µ–º–∏—Å—Ç—Å–∫—É—é –∏ –ø—Ä–µ—Å—Ç—É–ø–Ω—É—é) –ø—Ä—è–º–æ –∑–∞–ø—Ä–µ—â–µ–Ω–∞.
- –û—Ç–∫–∞–∑ –æ—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏: –ü–û –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è ¬´–∫–∞–∫ –µ—Å—Ç—å¬ª, –±–µ–∑ –∫–∞–∫–∏—Ö-–ª–∏–±–æ –≥–∞—Ä–∞–Ω—Ç–∏–π.
- –û—Ç–∫–∞–∑ –æ—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏: –∞–≤—Ç–æ—Ä –Ω–µ –Ω–µ—Å–µ—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∑–∞ –ª—é–±–æ–π –ø—Ä—è–º–æ–π –∏–ª–∏ –∫–æ—Å–≤–µ–Ω–Ω—ã–π —É—â–µ—Ä–± –æ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

–û—Å–Ω–æ–≤–Ω–æ–π UI
- –°–ª–µ–≤–∞: —Å–ø–∏—Å–æ–∫ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤/–¥–∏–∞–ª–æ–≥–æ–≤.
- –°–ø—Ä–∞–≤–∞: –æ–∫–Ω–æ —á–∞—Ç–∞.
- –í–≤–µ—Ä—Ö—É: —Å—Ç–∞—Ç—É—Å–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ `Client ID`, –∏–º–µ–Ω–∞ –∏ –º–∞—Å–∫–∞ `pub`.
  - –û—Ä–∞–Ω–∂–µ–≤–∞—è: –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è/–ø–µ—Ä–µ—Ö–æ–¥–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è (–æ–∂–∏–¥–∞–Ω–∏–µ —Ä–∞–¥–∏–æ).
  - –¢–µ–º–Ω–æ‚Äë–∑–µ–ª–µ–Ω–∞—è: –ø–æ–¥–∫–ª—é—á–µ–Ω–æ, –Ω–µ—Ç –Ω–µ–ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã—Ö –æ—à–∏–±–æ–∫.
  - –ö—Ä–∞—Å–Ω–∞—è: –≤ –ª–æ–≥–µ –±—ã–ª–∏ –æ—à–∏–±–∫–∏, —Ç—Ä–µ–±—É–µ—Ç—Å—è –≤–Ω–∏–º–∞–Ω–∏–µ (–¥–æ –æ—Ç–∫—Ä—ã—Ç–∏—è –ù–∞—Å—Ç—Ä–æ–µ–∫).
- –í–Ω–∏–∑—É: –ø–æ–ª–µ –≤–≤–æ–¥–∞ –∏ –∫–Ω–æ–ø–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏.

–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
- GUI –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –¥–∞–∂–µ –±–µ–∑ –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω–æ–≥–æ —Ä–∞–¥–∏–æ.
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Ä–∞–¥–∏–æ ‚Äî —á–µ—Ä–µ–∑ serial-over-USB (COM –Ω–∞ Windows, `/dev/ttyUSB*`/`/dev/ttyACM*` –Ω–∞ Linux).
- –†–µ–∂–∏–º –ø–æ—Ä—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ‚Äî `--port auto`: –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–∫–∞–Ω–∏—Ä—É–µ—Ç serial-–ø–æ—Ä—Ç—ã –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–±–∏—Ä–∞–µ—Ç –Ω–∞–∏–±–æ–ª–µ–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–π.
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∂–¥–µ—Ç —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ, –∑–∞—Ç–µ–º –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏ –≥—Ä—É–∑–∏—Ç –ø—Ä–æ—Ñ–∏–ª—å.
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏/–∏—Å—Ç–æ—Ä–∏—è –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–æ–¥—ã.
- –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–µ–º–∞ –º–Ω–æ–≥–æ–ø–∞–∫–µ—Ç–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞.

–ü–æ–≤–µ–¥–µ–Ω–∏–µ –≤–µ—Ä—Ö–Ω–µ–π —Å—Ç—Ä–æ–∫–∏
- `Client ID: !xxxxxxxx <longname>[<shortname>] pub: 12345****67890`
- –õ–ö–ú –ø–æ –≤–µ—Ä—Ö–Ω–µ–π —Å—Ç—Ä–æ–∫–µ –∫–æ–ø–∏—Ä—É–µ—Ç Client ID.
- –¢—Ä–æ–π–Ω–æ–π –∫–ª–∏–∫ –ø–æ `pub:` –ø—Ä–æ—Å–∏—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ, —Ä–µ–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫–ª—é—á–∏, –¥–µ–ª–∞–µ—Ç broadcast –Ω–æ–≤–æ–≥–æ –∫–ª—é—á–∞.

–ü—Ä–∏–º–µ—Ä—ã —Å—Ç–∞—Ç—É—Å–æ–≤ —Å–æ–æ–±—â–µ–Ω–∏–π
- –ò—Å—Ö–æ–¥—è—â–µ–µ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ:
  `–æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ 10:18 –ø—Ä–æ—à–ª–æ 00:05`
- –ò—Å—Ö–æ–¥—è—â–µ–µ –º–Ω–æ–≥–æ–ø–∞–∫–µ—Ç–Ω–æ–µ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ:
  `–æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ 10:18 –ø—Ä–æ—à–ª–æ 00:12, —á–∞—Å—Ç–∏ 2/5`
- –ò—Å—Ö–æ–¥—è—â–µ–µ –¥–æ—Å—Ç–∞–≤–ª–µ–Ω–æ:
  `–æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –≤ 10:18 –¥–æ—Å—Ç–∞–≤–ª–µ–Ω–æ –≤ 10:19 –∑–∞ 01:18, —Å 1 –ø–æ–ø—ã—Ç–∫–∏, —Ö–æ–ø—ã —Ç—É–¥–∞ 0 –æ–±—Ä–∞—Ç–Ω–æ 0`
- –ò—Å—Ö–æ–¥—è—â–µ–µ –¥–æ—Å—Ç–∞–≤–ª–µ–Ω–æ —Å–æ —Å–∂–∞—Ç–∏–µ–º:
  `–æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –≤ 10:18 –¥–æ—Å—Ç–∞–≤–ª–µ–Ω–æ –≤ 10:19 –∑–∞ 01:18, —Å 1 –ø–æ–ø—ã—Ç–∫–∏, —Ö–æ–ø—ã —Ç—É–¥–∞ 0 –æ–±—Ä–∞—Ç–Ω–æ 0, —Å–∂–∞—Ç–∏–µ DEFLATE 42%`
- –í—Ö–æ–¥—è—â–µ–µ –º–Ω–æ–≥–æ–ø–∞–∫–µ—Ç–Ω–æ–µ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ:
  `–≤ 10:18 –Ω–∞—á–∞–ª–∏ –ø—Ä–∏–µ–º, –ø—Ä–æ—à–ª–æ 00:15 —á–∞—Å—Ç–µ–π 2/5 —Å 1 –ø–æ–ø—ã—Ç–∫–∏, —Ö–æ–ø–æ–≤ 1`
- –í—Ö–æ–¥—è—â–µ–µ –ø–æ–ª—É—á–µ–Ω–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é:
  `–æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ 10:18 –ø–æ–ª—É—á–µ–Ω–æ –≤ 10:19 –∑–∞ 01:18, –ø–æ–ø—ã—Ç–∫–∏ 1, —Ö–æ–ø–æ–≤ 1, —á–∞—Å—Ç–∏ 5/5`

–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é –∫–æ–Ω—Ç–∞–∫—Ç–∞
- Pin/Unpin
- Add to group
- Request key
- Clear history
- Delete contact

–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –≤ —Å–ø–∏—Å–∫–µ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤
- –ó–∞–º–æ–∫ (`üîí`) –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–Ω–æ–≥–æ –¥–≤—É—Ö—Å—Ç–æ—Ä–æ–Ω–Ω–µ–≥–æ –æ–±–º–µ–Ω–∞ –∫–ª—é—á–∞–º–∏.
- –†—è–¥–æ–º —Å –∑–∞–º–∫–æ–º: —Å–∫–æ–ª—å–∫–æ —á–∞—Å–æ–≤ –ø—Ä–æ—à–ª–æ —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –æ–±–º–µ–Ω–∞ –∫–ª—é—á–∞–º–∏.
- –ù–∞–¥ –∑–∞–º–∫–æ–º: `Last seen: N h` (—Å–∫–æ–ª—å–∫–æ —á–∞—Å–æ–≤ –Ω–∞–∑–∞–¥ –ø–∏—Ä –±—ã–ª –∑–∞–º–µ—á–µ–Ω –≤ —Å–µ—Ç–∏).

–ù–∞—Å—Ç—Ä–æ–π–∫–∏
- –ü–æ—Ä—Ç, –ø–æ–≤—Ç–æ—Ä, –º–∞–∫—Å –æ–∂–∏–¥–∞–Ω–∏–µ, –º–∞–∫—Å –±–∞–π—Ç, –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª.
- Discovery: –¥–≤–µ –≥–∞–ª–∫–∏ (`–û—Ç–ø—Ä–∞–≤–ª—è—Ç—å broadcast discovery`, `–û—Ç–≤–µ—á–∞—Ç—å –Ω–∞ broadcast discovery`).
- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ: –æ–±–µ –í–ö–õ.
- –û—á–∏—Å—Ç–∫–∞ –æ—á–µ—Ä–µ–¥–∏ –ø—Ä–∏ —Å–º–µ–Ω–µ –ø—Ä–æ—Ñ–∏–ª—è.
- –Ø–∑—ã–∫, –ø–æ–¥—Ä–æ–±–Ω—ã–π –ª–æ–≥, –≤–∫–ª—é—á–µ–Ω–∏–µ `runtime.log`.
- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ: `runtime.log` –í–ö–õ.
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∂–∞—Ç–∏—è —Å–∫—Ä—ã—Ç—ã –∏–∑ UI –∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.
- –î–ª—è –∏—Å—Ö–æ–¥—è—â–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç `DEFLATE`, `ZLIB`, `BZ2`, `LZMA`, `NLTK`, `SPACY`, `TENSORFLOW` –∏ –ø—Ä–∏–º–µ–Ω—è–µ—Ç —Å–∂–∞—Ç–∏–µ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ payload —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –º–µ–Ω—å—à–µ.
- `NLTK`/`SPACY`/`TENSORFLOW` —ç—Ç–æ wire-level –∞–ª–∏–∞—Å—ã –ø—Ä–æ—Ñ–∏–ª–µ–π —Å–∂–∞—Ç–∏—è; –ø—É—Ç—å –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Å—Ç–∞–µ—Ç—Å—è –±–µ–∑ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.
- –ü–æ–¥—Å–∫–∞–∑–∫–∏ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –º–µ–Ω—å—à–∏–º —à—Ä–∏—Ñ—Ç–æ–º (`QLabel#hint`, 10px), —á—Ç–æ–±—ã –Ω–µ –≤—ã–≥–ª—è–¥–µ—Ç—å –∫–∞–∫ –æ–±—ã—á–Ω—ã–µ –æ–ø—Ü–∏–∏.
- –ö–Ω–æ–ø–∫–∞ `–ü–æ–ª–Ω—ã–π —Å–±—Ä–æ—Å` (–∫—Ä–∞—Å–Ω–∞—è, —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º) —É–¥–∞–ª—è–µ—Ç –∫–æ–Ω—Ñ–∏–≥/–æ—á–µ—Ä–µ–¥–∏/–∏—Å—Ç–æ—Ä–∏—é/incoming/runtime.log –∏ –∫–ª—é—á–∏ –ø—Ä–æ—Ñ–∏–ª—è, –∑–∞—Ç–µ–º —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—É—é –ø–∞—Ä—É –ª–æ–∫–∞–ª—å–Ω—ã—Ö –∫–ª—é—á–µ–π.

–ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–ª—é—á–µ–π
- –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–π –∑–∞–ø—Ä–æ—Å –∫–ª—é—á–∞ –ø—Ä–∏–º–µ—Ä–Ω–æ —Ä–∞–∑ –≤ —á–∞—Å (+ –¥–∂–∏—Ç—Ç–µ—Ä).
- –ê–≤—Ç–æ–∑–∞–ø—Ä–æ—Å –∫–ª—é—á–∞ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∏.
- –ó–∞–º–æ–∫ —É–±–∏—Ä–∞–µ—Ç—Å—è, –µ—Å–ª–∏ –∫–ª—é—á –Ω–µ –æ–±–Ω–æ–≤–ª—è–ª—Å—è –±–æ–ª–µ–µ 24 —á–∞—Å–æ–≤.

–§–∞–π–ª—ã –¥–∞–Ω–Ω—ã—Ö (–Ω–∞ –∫–∞–∂–¥—É—é –Ω–æ–¥—É)
- `<node_id>/keyRings/`
- `<node_id>/keyRings/storage.key` (–ª–æ–∫–∞–ª—å–Ω—ã–π –∫–ª—é—á —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ –¥–∏—Å–∫–µ)
- `<node_id>/state.json`
- `<node_id>/history.log`
- `<node_id>/incoming.json`
- `<node_id>/runtime.log` (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω)
- `<node_id>/config.json`

–ö–∞—Ä—Ç–∞ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ meshTalk (–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω–æ–π)
- –≠—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ –≤–∞–∂–µ–Ω –∏ –¥–æ–ª–∂–µ–Ω –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ø–æ–≤–µ–¥–µ–Ω–∏—è –∏–ª–∏ —Ä–æ–ª–µ–π —Ñ–∞–π–ª–æ–≤.

–§–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞ (–≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ / –∏—Å—Ö–æ–¥–Ω–∏–∫–∏)
- `meshTalk.py`:
  - –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª —Ä–∞–¥–∏–æ, E2EE, –æ—á–µ—Ä–µ–¥—å/–ø–æ–≤—Ç–æ—Ä—ã/ACK, GUI, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ/–∑–∞–≥—Ä—É–∑–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏ –∏—Å—Ç–æ—Ä–∏–∏.
- `meshtalk/protocol.py`:
  - –ü—Ä–∏–º–∏—Ç–∏–≤—ã wire-–ø—Ä–æ—Ç–æ–∫–æ–ª–∞: pack/unpack, –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –∫–ª—é—á–∞ X25519+HKDF, base64‚Äë–ø–æ–º–æ—â–Ω–∏–∫–∏.
- `meshtalk/storage.py`:
  - –°–ª–æ–π —Ö—Ä–∞–Ω–µ–Ω–∏—è: I/O config/state/history/incoming, –∫–ª—é—á —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ –¥–∏—Å–∫–µ, hardening –ø—Ä–∞–≤ —Ñ–∞–π–ª–æ–≤.
- `meshtalk_utils.py`:
  - –û–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã: –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ/–¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏, –ø–∞—Ä—Å–µ—Ä—ã, —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö, —Å–±–æ—Ä–∫–∞ wire-–ø–∞–∫–µ—Ç–æ–≤.
- `message_text_compression.py`:
  - –ê–ª–≥–æ—Ä–∏—Ç–º—ã/—Ä–µ–∂–∏–º—ã —Å–∂–∞—Ç–∏—è –¥–ª—è –ø–æ–ª–µ–∑–Ω–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π.
- `run_meshTalk.bat`: –∑–∞–ø—É—Å–∫ –Ω–∞ Windows.
- `build_meshTalk.bat`: —Å–±–æ—Ä–∫–∞ single-file –¥–ª—è Windows.
- `requirements.txt`: Python-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏.
- `requirements-ml.txt`: –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ NLP-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–æ—Ñ–∏–ª–µ–π —Å–∂–∞—Ç–∏—è.
- `README.md`: –æ–±—â–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã.
- `meshTalk.txt`: —Ü–µ–ª–µ–≤–∞—è —Å–ø—Ä–∞–≤–∫–∞ –ø–æ –ø–æ–≤–µ–¥–µ–Ω–∏—é meshTalk.
- `meshLogger.txt`: —Ü–µ–ª–µ–≤–∞—è —Å–ø—Ä–∞–≤–∫–∞ –ø–æ –ø–æ–≤–µ–¥–µ–Ω–∏—é meshLogger.
- `graphGen.txt`: —Ü–µ–ª–µ–≤–∞—è —Å–ø—Ä–∞–≤–∫–∞ –ø–æ –ø–æ–≤–µ–¥–µ–Ω–∏—é graphGen.
- `nodeDbUpdater.txt`: —Ü–µ–ª–µ–≤–∞—è —Å–ø—Ä–∞–≤–∫–∞ –ø–æ –ø–æ–≤–µ–¥–µ–Ω–∏—é nodeDbUpdater.
- `meshtalk_utils.txt`: —Ü–µ–ª–µ–≤–∞—è —Å–ø—Ä–∞–≤–∫–∞ –ø–æ –º–æ–¥—É–ª—é meshtalk_utils.
- `message_text_compression.txt`: —Ü–µ–ª–µ–≤–∞—è —Å–ø—Ä–∞–≤–∫–∞ –ø–æ –º–æ–¥—É–ª—é —Å–∂–∞—Ç–∏—è —Ç–µ–∫—Å—Ç–∞.
- `meshtalk/protocol.txt`: —Ü–µ–ª–µ–≤–∞—è —Å–ø—Ä–∞–≤–∫–∞ –ø–æ –º–æ–¥—É–ª—é –ø—Ä–æ—Ç–æ–∫–æ–ª–∞.
- `meshtalk/storage.txt`: —Ü–µ–ª–µ–≤–∞—è —Å–ø—Ä–∞–≤–∫–∞ –ø–æ –º–æ–¥—É–ª—é —Ö—Ä–∞–Ω–µ–Ω–∏—è.
- `CHANGELOG.md`: –∏–∑–º–µ–Ω–µ–Ω–∏—è –º–µ–∂–¥—É –≤–µ—Ä—Å–∏—è–º–∏.

–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –≤–æ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã (–Ω–∞ –ø—Ä–æ—Ñ–∏–ª—å/–Ω–æ–¥—É, –Ω–µ –∏—Å—Ö–æ–¥–Ω–∏–∫–∏)
- `config.json`: –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ GUI/runtime.
- `state.json`: –æ—á–µ—Ä–µ–¥—å –∏—Å—Ö–æ–¥—è—â–∏—Ö pending-–∑–∞–ø–∏—Å–µ–π (–¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –Ω–µ–¥–æ–æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –∏—Å—Ö–æ–¥—è—â–∏—Ö).
- `incoming.json`: —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–±–æ—Ä–∫–∏ –≤—Ö–æ–¥—è—â–∏—Ö –º–Ω–æ–≥–æ–ø–∞–∫–µ—Ç–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π.
- `history.log`: –∏—Å—Ç–æ—Ä–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π –∏ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è.
  - –¢–µ–∫—Å—Ç —Ö—Ä–∞–Ω–∏—Ç—Å—è –∫–∞–∫ `enc1:...` (AES-256-GCM; –∫–ª—é—á –≤ `keyRings/storage.key`).
  - –í —Å—Ç–∞—Ä—ã—Ö —Å—Ç—Ä–æ–∫–∞—Ö –º–æ–∂–µ—Ç –≤—Å—Ç—Ä–µ—á–∞—Ç—å—Å—è `b64:...` (—Å—Ç–∞—Ä—ã–µ –≤–µ—Ä—Å–∏–∏).
  - –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è —Ö—Ä–∞–Ω—è—Ç—Å—è –∫–∞–∫ `meta64:...` (base64 JSON) –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤.
- `runtime.log`: —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ runtime-—Å–æ–±—ã—Ç–∏—è.
- `keyRings/`: –ª–æ–∫–∞–ª—å–Ω—ã–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã–π/–ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á–∏ –∏ –ø—É–±–ª–∏—á–Ω—ã–µ –∫–ª—é—á–∏ –ø–∏—Ä–æ–≤.
  - `storage.key`: 32-–±–∞–π—Ç–Ω—ã–π –∫–ª—é—á, –∫–æ—Ç–æ—Ä—ã–º —à–∏—Ñ—Ä—É–µ—Ç—Å—è —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏–π –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –Ω–∞ –¥–∏—Å–∫ (`history.log` –∏ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è `state.json`/`incoming.json`).

–ü–æ–≤–µ–¥–µ–Ω–∏–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
- –ü—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –ª–æ–≥–∏—á–µ—Å–∫–∏ –≤ —Ç–∞–∫–æ–º –ø–æ—Ä—è–¥–∫–µ:
  1) `history.log` (`recv/sent`) –≤–º–µ—Å—Ç–µ —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏.
  2) pending-–∏—Å—Ö–æ–¥—è—â–∏–µ –∏–∑ `state.json`.
  3) –≤—Ö–æ–¥—è—â–∏–µ multipart –∏–∑ `incoming.json`.
- –ü—Ä–∏ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–∏ –≥—Ä—É–ø–ø—ã –∑–∞–ø–∏—Å–∏ –∏—Å—Ç–æ—Ä–∏–∏ –ø–µ—Ä–µ–Ω–æ—Å—è—Ç—Å—è —Å–æ —Å—Ç–∞—Ä–æ–≥–æ `group:<name>` –Ω–∞ –Ω–æ–≤—ã–π id.
- –ü—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏/–æ—á–∏—Å—Ç–∫–µ –≥—Ä—É–ø–ø—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Å—Ç—Ä–æ–∫–∏ —É–¥–∞–ª—è—é—Ç—Å—è –∏–∑ `history.log`.
